---
title: "Making Data Pipelines in R:"
subtitle: "A Story From A 'Self-Taught' Perspective"
author: "Meghan Harris, MPH"
institute: "RStudio::conf(2022) | Washington D.C, U.S"
date: "27/07/2022 - July 27th, 2022"
output:
  xaringan::moon_reader:
    lib_dir: libs
    nature:
      ratio: '16:9'
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: true
    css:
      - "scripts/style.css"
      - "scripts/animation.css"
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
xaringanExtra::use_slide_tone()
xaringanExtra::use_freezeframe(responsive = FALSE)
```

class: dark, center, middle, animated, fadeIn

<img src= "images/initial_dream.png", width = "100%", height = "100%">

???
So I have a story to tell you all, but before I get into that, I have a question to ask all of you. You don't have to answer me out loud, but...
<br><br><br>
When you see this image... Does it make you feel anything? Any ideas on what it is?


<br><br>
Well, this is my personal, 100% accurate representation of a data pipeline. Now you're probably thinking I'm out of my mind, and I might be, but hear me out. Of course this isn't an actual data pipeline, but rather the mental image and feelings I had when I was in my last position as a Data specialist and was task with creating a data pipeline from scratch. 
<br><br>
The story I want to tell you all today is about how I created a data pipeline in R from scratch, but more specifically with the context of me being a self-taught R programmer in my first ever official data position.
<br><br>
Those of us that work in data, when we think of data pipelines, it might look something more like this...
---
class: dark, center, middle, animated, fadeIn

<img src= "images/perfectpipe.png", width = "100%", height = "100%">

???
The "Perfect" Data Pipeline:
Nice clear proccess, clean structures, with great results
<br>
<br>
This is a pipeline to most of us, but in this last position I was in, the pipeline looked nothing like that at all. If we could say there was any pipeline, it was very manual, very clunky. So although I do have this story to tell, I've broken it up into the following themes:
---
class: dark, center, middle, animated, fadeIn
# Make a new visual showing a "flowchart" of the story
-First Encounters
-Structures
-Data Validation
-Sustainability


<h1><span>The Timeline</span></h1>

<center><img src= "images/tl_1.png", width = "100%"></center>

???
Once during my first week of work when I had my first encounters with the data in this pipeline, and once again when I put in my formal resignation for this position about a month ago.
<br>
<br>
You're probably wondering how this is even possible, maybe even saying to yourself "man, if her pipeline looked like that, no wonder she quit". <br>
<br>
Well, I'm gonna tell you all about it, but first, we need to go back to the beginnings..
---
class: light, animated, fadeIn

<h1><span>The Timeline</span></h1>

<center><img src= "images/tl_2.png", width = "100%"></center>

???
Back to that first day, week, and months of "real" work...

---
class: light, animated, fadeIn
<h1><span>First Encounters in the "Wild"</span></h1>

<img src="images/me.png" alt="A picture of Meghan Harris on her first day of work as a Data Specialist." width="25%"; height="25%"; style="float: left; margin-top:100px;">

<p style="float: right;"><h2><b>Some Facts:</b></h2>

 <ul><li>Self-Taught + 1<sup>st</sup> Data Position = "Impostor Syndrome"</li><br>
     <li>Data dealt with opioid-related topics.</li><br>
     <li>Organization did not have any pipelines.</li><br>
     <li>Organization's expectations weren't clear...</li></ul></p>
     
???
There's hope in those eyes..
Some facts about how it was starting in this position...
Expectations weren't clear...bc non-existent

---
class: light, animated, fadeIn
<h1><span>First Encounters in the "Wild"</span></h1>
<center>

<h2><b>Expectations...</b></h2>

<img class = "gif"; src="images/glasses-computer.gif" width = "450px">

</center>

---
class: light, animated, fadeIn
<h1><span>First Encounters in the "Wild"</span></h1>
<center>

<h2><b>Reality...</b></h2>

<img class = "gif"; src="images/steve-harvey-scared.gif" width = "450px">

</center>

---
class: light, animated, fadeIn
<h1><span>First Encounters in the "Wild"</span></h1>

<h2><b>So What Did I Do?</b></h2>

<center>
<img class = "gif"; src="images/headfirst.gif" width = "400px", height = "300px">
</center>
     
???
Jumped in head-first of course! Because what else was I going to do? I'm new, I have a lot to prove, not only to other people, but myself. I have to learn things as I go because I'm self-taught. I had to open R immediately of course!

---
class: light, animated, fadeIn
<h1><span>First Encounters in the "Wild"</span></h1>

<h3><b>What I did vs. <font color = "#0B82B9"><i>What I Should Have Done</i></font></b></h3>

<center><br><br><br>
<b>I tried to create R programs immediately.</b>
<br><br>
--
<b><i><font color = "#0B82B9">I should have started investigating instead.</font></i></b><br><br>

</center>

---
class: light, animated, fadeIn
<h1><span>First Encounters in the "Wild"</span></h1>

<h2><b>The Narcan Story</b></h2>


<center><img src= "images/narcan.png" height = "300px"><br><br>
<b><i><font color = "#0B82B9">0,1,2,3 are numbers...right?</font></i></b><br><br>


</center>

---
class: light, animated, fadeIn
<h1><span>First Encounters in the "Wild"</span></h1>

<h2><b>The Narcan Story</b></h2>


<center><img src= "images/narcan.png" height = "300px"><br><br>
<b><i><font color = "#0B82B9">"4+" is not...</font></i></b><br><br>


</center>



---
class: light, animated, fadeIn

<h1><span>First Encounters in the "Wild"</span></h1>

<center><br><br><br>
<p><i><font size = "48px">"The first step to building a data pipeline in R, <font color = "#0B82B9">is to <b>NOT</b> open R.</font>"</font></i></p>
</center>




---
class: light, animated, fadeIn
<h1><span>First Encounters in the "Wild"</span></h1>


<img src="images/patches.png" alt="A picture of a black dog laying on a bed and partially covering an open laptop." width="25%"; height="25%"; style="float: left; margin-top:100px;">

<p style="float: right;"><h3><b>What I learned about First Encounters:</b></h3>

 <ul><li>Don't do any "real" coding</li><br>
     <li>Ask for code books.</li><br>
     <li>Understand the data's environment.</li><br>
     <li>Make the stakeholder tell you what they want.</li><br>

     
???
About first encounters when presented with the task of creating a data pipeline...
"real" coding is bad, quick/dirty coding that will help you form question/investigate is good and should not take too much effort unless you're learning as you go. The difficulty should not come because you're trying to do advanced stuff. Do the bare minimum to give you clues/info you need to start asking questions

<br>
The first part of creating data pipelines, is to not even think about coding, modeling, or anything advanced like that. Coding, analyzes, and etc are things that have to happen to the data. It's hard to know how to correctly work with and apply actions to data without understanding the data. You need to first understand the pieces you're working with. Failing to do this, and just jumping head first makes the process harder, and can put an unnecessary layer of difficulty on to your vision and perspective of the project that's in front you. Taking the time to take a step back and go through an iterative process of asking questions and understanding the environment the data exists is can give a bit more clarity and focus as you begin to start creating a data pipeline.

---
class: dark, center, middle, animated, fadeIn

<img src= "images/initial_dream.png", width = "100%", height = "100%">

???
With no info of data, process or anything, what this looks like going head first.
---
class: dark, center, middle, animated, fadeIn


<img src= "images/pl_2.png", width = "100%", height = "100%">

???
Taking the time to investigate will give you some clarity. When you start to get clarity, things can become clearer. Mind you that things are still messy, but a little bit of clarity can give you just enough to continue refining and building processes. Once you accept the fact that you need to do all of this investigation, and also accept the fact that investigations are an iterative process you are NEVER done with, you can start to realize you need more structure. It's at this point that it's safe to start building out the foundation of the pipeline


---
class: light, animated, fadeIn

<h1><span>The Timeline</span></h1>

<center><img src= "images/tl_3.png", width = "100%"></center>

???
by introducing actual structure to the process now.

---
class: light, animated, fadeIn

<h1><span>Structures</span></h1>

<center><br><br><br>
<p><i><font size = "48px">"Data pipelines can exist in two environments that co-exist together; <font color = "#0B82B9"> <b>external</b> and <b>internal</b> environments.</font>"</font></i></p>
</center>

???
probably theories and ways to break this down even further, but in my experience, being that it was my first time building a pipeline, it was more digestible for me to think about it as two environments at the time.

---
class: light, animated, fadeIn

<h1><span>Structures</span></h1>

<img src="images/external.png" alt="A picture of Meghan Harris on her first day of work as a Data Specialist." width="25%"; height="25%"; style="float: left; margin-top:100px;">

<p style="float: right;"><h2><b>External Environment</b></h2>

 <ul><li>Data interactions, decisions, and processes that exist <b>externally</b> to your system.</li><br>
     <li>Administrative policies that affect the flow of data</li><br>
     <li>Technology that is used for data collection outside of R</li><br>
     <li>Data literacy of stakeholders and co-workers</li></ul></p>
     
???
Important to do this first. This can and has overlapped with the investigation process mentioned earlier. More data sources you have, more involved the process is. Knowing all I could about the external environment, helped guide what the structure would look like internally.

---
class: light, animated, fadeIn

<h1><span>Structures</span></h1>

<img src="images/internal.png" alt="A picture of Meghan Harris on her first day of work as a Data Specialist." width="25%"; height="25%"; style="float: left; margin-top:100px;">

<p style="float: right;"><h2><b>Internal Environment</b></h2>

 <ul><li>Actual file structure and data flow <b>internally</b> on your system</li><br>
     <li>Flow of logic for data processing, analysis, and deliverable creation/deployment</li><br>
     <li>Method of data security and storage processes</li></ul></p>
     
???
probably theories and ways to break this down even further, but in my experience, being that it was my first time building a pipeline, it was more digestible for me to think about it as two environments at the time.
<br><br>
Naloxtrac example file structure example next

---
class: light, animated, fadeIn

<h1><span>The Timeline</span></h1>

<center><img src= "images/tl_4.png", width = "100%"></center>
---
class: light, animated, fadeIn

<h1><span>The Timeline</span></h1>

<center><img src= "images/tl_5.png", width = "100%"></center>
---
class: light, animated, fadeIn

<h1><span>The Timeline</span></h1>

<center><img src= "images/tl_6.png", width = "100%"></center>

