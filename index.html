<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Making Data Pipelines in R:</title>
    <meta charset="utf-8" />
    <meta name="author" content="Meghan Harris, MPH" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <script src="libs/tone/Tone.js"></script>
    <script src="libs/slide-tone/slide-tone.js"></script>
    <script src="libs/freezeframe/freezeframe.min.js"></script>
    <script src="libs/xaringanExtra-freezeframe/freezeframe-init.js"></script>
    <script id="xaringanExtra-freezeframe-options" type="application/json">{"selector":"img[src$=\"gif\"]","trigger":"click","overlay":false,"responsive":false,"warnings":true}</script>
    <link rel="stylesheet" href="scripts/style.css" type="text/css" />
    <link rel="stylesheet" href="scripts/animation.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Making Data Pipelines in R:
]
.subtitle[
## A Story From A â€˜Self-Taughtâ€™ Perspective
]
.author[
### Meghan Harris, MPH
]
.institute[
### RStudio::conf(2022) | Washington D.C, U.S
]
.date[
### 27/07/2022 - July 27th, 2022
]

---




class: dark, center, middle, animated, fadeIn

&lt;img src= "images/initial_dream.png", width = "100%", height = "100%"&gt;

???
So I have a story to tell you all, but before I get into that, I have a question to ask all of you. You don't have to answer me out loud, but...
&lt;br&gt;&lt;br&gt;&lt;br&gt;
When you see this image... Does it make you feel anything? Any ideas on what it is?


&lt;br&gt;&lt;br&gt;
Well, this is my personal, 100% accurate representation of a data pipeline. Now you're probably thinking I'm out of my mind, and I might be, but hear me out. Of course this isn't an actual data pipeline, but rather the mental image and feelings I had in my last position as a Data specialist when I was tasked with creating a data pipeline from scratch. 
&lt;br&gt;&lt;br&gt;
The story I want to tell you all today is about how I created that pipeline in R within the context of me being a self-taught R programmer in my first professional data position.
&lt;br&gt;&lt;br&gt;
Those of us that work in data, when we think of data pipelines, it might look something more like this...
---
class: dark, center, middle, animated, fadeIn

&lt;img src= "images/perfectpipe.png", width = "100%", height = "100%"&gt;

???
The "Perfect" Data Pipeline:
Nice clear proccess, clean structures, with great results
&lt;br&gt;
&lt;br&gt;
This is a pipeline to most of us, but in this last position I was in, the pipeline looked nothing like that at all. If we could say there was any pipeline, it was very manual, very clunky, no structure, no automation, just vibes and recklessness. So although I learned a lot and have alot to share, I don't have a lot of time to talk today, so I pulled out four main points that I learned about creating pipelines during this journey.
---
class: light, animated, fadeIn

&lt;h1&gt;&lt;span&gt;Main Points&lt;/span&gt;&lt;/h1&gt;
&lt;br&gt;&lt;br&gt;
&lt;center&gt;&lt;img src= "images/mainpoints.png", width = "100%"&gt;&lt;/center&gt;

???
-My first encounters with the data in this pipeline&lt;br&gt;
-The importance of identifying the environmental structures of the data pipeline&lt;br&gt;
-Embedding validations within the data pipeline&lt;br&gt;
-Understanding what sustainability looks like for the data pipeline


---
class: light, animated, fadeIn

&lt;h1&gt;&lt;span&gt;Main Points&lt;/span&gt;&lt;/h1&gt;
&lt;br&gt;&lt;br&gt;
&lt;center&gt;&lt;img src= "images/mp_1.png", width = "100%"&gt;&lt;/center&gt;

???
So I think the best things for me to do is go back to the beginning, during those first days, weeks, and months of working in this position.
&lt;br&gt;&lt;br&gt;
Now I know, I'm going to sound like I'm out of my mind again, but guys, the very first thing I learned during my first encounters in this journey was that...

---
class: light, animated, fadeIn

&lt;h1&gt;&lt;span&gt;First Encounters&lt;/span&gt;&lt;/h1&gt;

&lt;center&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
&lt;p&gt;&lt;i&gt;&lt;font size = "48px"&gt;"The first step to building a data pipeline in R, &lt;font color = "#A21152"&gt;is to &lt;b&gt;NOT&lt;/b&gt; open R.&lt;/font&gt;"&lt;/font&gt;&lt;/i&gt;&lt;/p&gt;
&lt;/center&gt;


---
class: light, animated, fadeIn
&lt;h1&gt;&lt;span&gt;First Encounters&lt;/span&gt;&lt;/h1&gt;

&lt;img src="images/me.png" alt="A picture of Meghan Harris on her first day of work as a Data Specialist." width="25%"; height="25%"; style="float: left; margin-top:100px;"&gt;

&lt;p style="float: right;"&gt;&lt;h2&gt;&lt;b&gt;Some Facts:&lt;/b&gt;&lt;/h2&gt;
 &lt;ul&gt;&lt;li&gt;Unfamiliar subject matter - opioid data&lt;/li&gt;&lt;br&gt;
     &lt;li&gt;A lot of data existed everywhere&lt;/li&gt;&lt;br&gt;
     &lt;li&gt;Organization did not have any pipelines&lt;/li&gt;&lt;br&gt;
     &lt;li&gt;Organization's expectations weren't clear&lt;/li&gt;&lt;br&gt;
    &lt;li&gt;No direction was given...&lt;/li&gt;&lt;/ul&gt;&lt;/p&gt;
     
???
Some facts about how it was starting in this position...
There's hope in those eyes even though this was my first official data position, I was self-taught and had impostor syndrome also -&gt;&gt; humility&lt;br&gt;
Expectations weren't clear...bc non-existent. My stakeholder didn't know what they wanted exactly&lt;br&gt;
I have all of this unstructured data, no guides, no anything, what did I do?

---
class: light, animated, fadeIn
&lt;h1&gt;&lt;span&gt;First Encounters&lt;/span&gt;&lt;/h1&gt;

&lt;h2&gt;&lt;b&gt;So What Did I Do?&lt;/b&gt;&lt;/h2&gt;

&lt;center&gt;
&lt;img class = "gif"; src="images/headfirst.gif" width = "400px", height = "300px"&gt;
&lt;/center&gt;
     
???
Jumped in head-first of course! Because what else was I going to do? I'm new, I have a lot to prove, not only to other people, but myself. I have to learn things as I go because I'm self-taught. I had to open R immediately of course!

---
class: light, animated, fadeIn
&lt;h1&gt;&lt;span&gt;First Encounters&lt;/span&gt;&lt;/h1&gt;

&lt;h3&gt;&lt;b&gt;What I did vs. &lt;font color = "#A21152"&gt;&lt;i&gt;What I Should Have Done&lt;/i&gt;&lt;/font&gt;&lt;/b&gt;&lt;/h3&gt;

&lt;center&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
&lt;b&gt;I tried to create R programs immediately.&lt;/b&gt;
&lt;br&gt;&lt;br&gt;
--
&lt;b&gt;&lt;i&gt;&lt;font color = "#A21152"&gt;I should have started investigating instead.&lt;/font&gt;&lt;/i&gt;&lt;/b&gt;&lt;br&gt;&lt;br&gt;

&lt;/center&gt;

---
class: light, animated, fadeIn
&lt;h1&gt;&lt;span&gt;First Encounters&lt;/span&gt;&lt;/h1&gt;

&lt;h2&gt;&lt;b&gt;The Narcan Story&lt;/b&gt;&lt;/h2&gt;


&lt;center&gt;&lt;img src= "images/narcan.png" height = "200px"&gt;&lt;br&gt;&lt;br&gt;
--
&lt;b&gt;&lt;i&gt;&lt;font color = "#A21152"&gt;0,1,2,3 are numbers...right?&lt;/font&gt;&lt;/i&gt;&lt;/b&gt;&lt;br&gt;
--
&lt;b&gt;&lt;i&gt;&lt;font color = "#5c0e0b"&gt;ðŸš¨"4+" is not...ðŸš¨&lt;/font&gt;&lt;/i&gt;&lt;/b&gt;&lt;br&gt;&lt;br&gt;

&lt;/center&gt;

---
class: light, animated, fadeIn
&lt;h1&gt;&lt;span&gt;First Encounters&lt;/span&gt;&lt;/h1&gt;


&lt;img src="images/patches.png" alt="A picture of a black dog laying on a bed and partially covering an open laptop." width="25%"; height="25%"; style="float: left; margin-top:100px;"&gt;

&lt;p style="float: right;"&gt;&lt;h3&gt;&lt;b&gt;What I learned about First Encounters:&lt;/b&gt;&lt;/h3&gt;

 &lt;ul&gt;&lt;li&gt;Don't do any "real" coding...yet&lt;/li&gt;&lt;br&gt;
     &lt;li&gt;Ask for code books&lt;/li&gt;&lt;br&gt;
     &lt;li&gt;Understand the data's environment&lt;/li&gt;&lt;br&gt;
     &lt;li&gt;Understand the organization's environment&lt;/li&gt;&lt;br&gt;
     &lt;li&gt;Try to start creating "metadata"&lt;/li&gt;&lt;/ul&gt;

     
???
About first encounters when presented with the task of creating a data pipeline...
jumping to "real" coding is bad, quick/dirty coding that will help you form question/investigate is good and should not take too much effort unless you're learning as you go. The difficulty should not come because you're trying to do advanced stuff. Do the bare minimum to give you clues/info you need to start asking questions about not only the data but the organization in which it comes from as well. You can also document this early process by making a rough version of metadata. Where you track where data is coming from, what's in the data, who handles the data, etc.

&lt;br&gt;
A hard lesson I eventually learned was that taking the time to take a step back and go through an iterative process of asking questions can give a bit more clarity and focus as you begin to start creating a data pipeline. This is so much more important than just rushing to open RStudio because if you jump in with no information, head first, that pipeline can figuratively look and feel like this...

---
class: dark, center, middle, animated, fadeIn

&lt;img src= "images/initial_dream.png", width = "100%", height = "100%"&gt;

???
but...
---
class: dark, center, middle, animated, fadeIn


&lt;img src= "images/pl_2.png", width = "100%", height = "100%"&gt;

???
Taking the time to investigate will give you some clarity. When you start to get clarity, things can become clearer. Mind you that things are still messy, but a little bit of clarity can give you just enough to continue refining and building processes. Once you accept the fact that you need to iteratively investigate and start gaining some clarity, it's safe to start building out the foundation of the pipeline...


---
class: light, animated, fadeIn

&lt;h1&gt;&lt;span&gt;Main Points&lt;/span&gt;&lt;/h1&gt;
&lt;br&gt;&lt;br&gt;
&lt;center&gt;&lt;img src= "images/mp_2.png", width = "100%"&gt;&lt;/center&gt;

???
by introducing actual environmental structure to the process now.

---
class: light, animated, fadeIn

&lt;h1&gt;&lt;span&gt;Environmental Structures&lt;/span&gt;&lt;/h1&gt;

&lt;center&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
&lt;p&gt;&lt;i&gt;&lt;font size = "48px"&gt;"Data pipelines can exist in two environments that co-exist together; &lt;font color = "#0B82B9"&gt; &lt;b&gt;external&lt;/b&gt; and &lt;b&gt;internal&lt;/b&gt; environments.&lt;/font&gt;"&lt;/font&gt;&lt;/i&gt;&lt;/p&gt;
&lt;/center&gt;

???
probably more sophisticated theories and ways to break this concept down even further, but being that it was my first time building a pipeline, it was more digestible for me to think about this concept as simply stating that a data pipeline has two environments that coexist and build off of each other.

---
class: light, animated, fadeIn

&lt;h1&gt;&lt;span&gt;Environmental Structures&lt;/span&gt;&lt;/h1&gt;

&lt;center&gt;&lt;img src= "images/internal_external.png", height = 450px&gt;&lt;/center&gt;

???
So when starting out this was kinda what I realized mentally. That in wading through all of this data and trying to create structure I had external things to worry about outside of my computer, and internal things to worry about inside of my computer. To further explain this simplification..

---
class: light, animated, fadeIn

&lt;h1&gt;&lt;span&gt;Environmental Structures&lt;/span&gt;&lt;/h1&gt;

&lt;img src="images/external.png" alt="A picture of Meghan Harris on her first day of work as a Data Specialist." width="25%"; height="25%"; style="float: left; margin-top:100px;"&gt;

&lt;p style="float: right;"&gt;&lt;h2&gt;&lt;b&gt;External Environment&lt;/b&gt;&lt;/h2&gt;

 &lt;ul&gt;&lt;li&gt;Data interactions, decisions, and processes that exist &lt;b&gt;externally&lt;/b&gt; to your system.&lt;/li&gt;&lt;br&gt;
     &lt;li&gt;Administrative policies that affect the flow of data&lt;/li&gt;&lt;br&gt;
     &lt;li&gt;Technology that is used for data collection outside of R&lt;/li&gt;&lt;br&gt;
     &lt;li&gt;Data literacy of stakeholders and co-workers&lt;/li&gt;&lt;/ul&gt;&lt;/p&gt;&lt;br&gt;
     
???
In my xp, it was important to ID the external environment first. This overlapped with the investigation process mentioned earlier. More data sources you have, more involved the process is. Knowing all I could about the external environment, helped guide what the structure would look like internally.

---
class: light, animated, fadeIn

&lt;h1&gt;&lt;span&gt;Environmental Structures&lt;/span&gt;&lt;/h1&gt;

&lt;img src="images/internal.png" alt="A picture of Meghan Harris on her first day of work as a Data Specialist." width="25%"; height="25%"; style="float: left; margin-top:100px;"&gt;

&lt;p style="float: right;"&gt;&lt;h2&gt;&lt;b&gt;Internal Environment&lt;/b&gt;&lt;/h2&gt;

 &lt;ul&gt;&lt;li&gt;Actual file structure and data flow &lt;b&gt;internally&lt;/b&gt; on your system&lt;/li&gt;&lt;br&gt;
     &lt;li&gt;Flow of logic for data processing, analysis, and deliverable creation/deployment&lt;/li&gt;&lt;br&gt;
     &lt;li&gt;Method of data security and storage processes&lt;/li&gt;&lt;/ul&gt;&lt;/p&gt;
     
???
ID internal environment is also essential. understanding the best way to set up your logic in things, nuances of any packages that you are, understanding what packages are essential for minimum functionality, Understanding the output needed for deliverables.&lt;br&gt;&lt;br&gt;
Now, it should go without saying that this is not the reality...

---
class: light, animated, fadeIn

&lt;h1&gt;&lt;span&gt;Environmental Structures&lt;/span&gt;&lt;/h1&gt;

&lt;center&gt;&lt;img src= "images/interactions.png", height = 450px&gt;&lt;/center&gt;

???
These environments don't exist in silos. Clearly external things can affect internal things and vice versa...&lt;br&gt;
This is a challenge that every data person knows well. Even if you don't think about the data's environment in this way, those of you that work in non-profit, academia, or government can probably relate to feeling like some thing in your work is affected by bureaucracy or conflicting interests/decision..&lt;br&gt;&lt;br&gt;
What helped me to better navigate the interactions between the two environments was to iteratively tackle each side by introducing structure, documentation, and workflow processes and adjusting for the other side as needed. You can try your best to account for all of this things at the beginning, but it's hard to know what will influence what every time.

---
class: light, animated, fadeIn

&lt;h1&gt;&lt;span&gt;Environmental Structures&lt;/span&gt;&lt;/h1&gt;

#PICK UP HERE# Add examples

&lt;h2&gt;&lt;b&gt;Structuring the External Environment&lt;/b&gt;&lt;/h2&gt;

 &lt;ul&gt;&lt;li&gt;Data interactions, decisions, and processes that exist &lt;b&gt;externally&lt;/b&gt; to your system.&lt;/li&gt;&lt;br&gt;
     &lt;li&gt;Administrative policies that affect the flow of data&lt;/li&gt;&lt;br&gt;
     &lt;li&gt;Technology that is used for data collection outside of R&lt;/li&gt;&lt;br&gt;
     &lt;li&gt;Data literacy of stakeholders and co-workers&lt;/li&gt;&lt;/ul&gt;&lt;/p&gt;&lt;br&gt;


---
class: light, animated, fadeIn

&lt;h1&gt;&lt;span&gt;Main Points&lt;/span&gt;&lt;/h1&gt;
&lt;br&gt;&lt;br&gt;
&lt;center&gt;&lt;img src= "images/mp_3.png", width = "100%"&gt;&lt;/center&gt;
---
class: light, animated, fadeIn

&lt;h1&gt;&lt;span&gt;Main Points&lt;/span&gt;&lt;/h1&gt;
&lt;br&gt;&lt;br&gt;
&lt;center&gt;&lt;img src= "images/mp_4.png", width = "100%"&gt;&lt;/center&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
